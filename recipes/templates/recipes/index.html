{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5341526143943669"
     crossorigin="anonymous"></script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5341526143943669"
     crossorigin="anonymous"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RecipEazy - The best recipes in one place</title>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <meta name="description" content="Recipes made easy - find the best recipes in one place, or simply search by category">
    <link rel="stylesheet" href="{%static 'css/index.css'%}">
    <style>
	    /* Basic styling for the header */
#header {
    background-color: #fff;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    position: sticky;
    top: 0;
    z-index: 100;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
}

/* Navigation bar styling */
nav {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 0;
    flex-wrap: wrap;
}

.logo {
    font-size: 1.8rem;
    font-weight: 700;
    color: #333;
}

.logo span {
    color: #ff6b6b;
}

/* Navigation links */
.nav-links {
    display: flex;
    align-items: center;
}

.nav-links a {
    color: #333;
    text-decoration: none;
    margin: 0 10px;
    padding: 5px;
    transition: color 0.3s;
}

.nav-links a:hover {
    color: #ff6b6b;
}

.nav-links a.active {
    color: #ff6b6b;
    font-weight: 600;
}

/* Search bar */
.search-bar {
    margin: 0 15px;
}

.search-bar form {
    display: flex;
}

.search-bar input {
    padding: 8px 12px;
    border: 1px solid #ddd;
    border-radius: 4px 0 0 4px;
    width: 200px;
}

.search-bar button {
    background-color: #ff6b6b;
    color: white;
    border: none;
    padding: 8px 12px;
    border-radius: 0 4px 4px 0;
    cursor: pointer;
}

/* Hamburger menu (hidden by default on desktop) */
.menu-toggle {
    display: none;
    font-size: 1.5rem;
    cursor: pointer;
    color: #333;
}

/* Wrapper for collapsible menu items */
.nav-wrapper {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: calc(100% - 150px); /* Adjust based on your logo size */
}

/* Media query for responsive design */
/* Media query for responsive design */
@media screen and (max-width: 992px) {
    .menu-toggle {
        display: block !important;
        order: 3;
        padding: 10px;
        font-size: 1.8rem;
        z-index: 1000;
    }
    
    .logo {
        order: 1;
    }
    
    nav {
        position: relative;
    }
    
    .nav-wrapper {
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        order: 2;
        flex-direction: column;
        width: 100%;
        display: none; /* Hide by default on mobile */
        align-items: flex-start;
        padding: 20px;
        background-color: #fff;
        box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
        z-index: 99;
    }
    
    .nav-wrapper.active {
        display: flex;
    }
    
    .nav-links {
        flex-direction: column;
        width: 100%;
        margin-bottom: 15px;
        align-items: flex-start;
    }
    
    .nav-links.main-links {
        display: flex !important;
        margin-bottom: 15px;
    }
    
    .nav-links.auth-links {
        display: flex !important;
        margin-top: 10px;
        border-top: 1px solid #eee;
        padding-top: 15px;
    }
    
    .nav-links a {
        margin: 10px 0;
        display: block;
        width: 100%;
        font-size: 1.1rem;
    }
    
    .search-bar {
        width: 100%;
        margin: 15px 0;
    }
    
    .search-bar form {
        width: 100%;
        display: flex;
    }
    
    .search-bar input {
        flex-grow: 1;
        width: auto;
    }
}
    </style>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-L1FC1XBR76"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-L1FC1XBR76');
</script>
</head>
<body>
    <header id="header">
    <div class="container">
        <nav>
            <div class="logo">Recip<span>Eazy</span></div>
            <div class="menu-toggle">
                <i class="fas fa-bars"></i>
            </div>
            
            <div class="nav-wrapper">
                <div class="nav-links main-links">
                    <a href="#" class="active">Home</a>
                    <a href="{% url 'recipe_list' %}">Recipes</a>
                    <a href="{% url 'profile' %}">Profile</a>
                    {% if user.is_authenticated %}
                    <a href="{% url 'recipe-create' %}">Make Recipe</a>
                    {% endif %}
                </div>
                
                <div class="search-bar">
                    <form action="{% url 'search-recipe' %}" method="get">
                        <input type="text" name="q" placeholder="Enter recipe name..." required>
                        <button type="submit">Search</button>
                    </form>
                </div>
                
                <div class="nav-links auth-links">
                    {% if user.is_authenticated %}
                    <a href="{% url 'logout' %}">Logout</a>
                    {% endif %}
                    {% if not user.is_authenticated %}
                    <a href="{% url 'login' %}">Login</a>
                    <a href="{% url 'register' %}">Register</a>
                    {% endif %}
                </div>
            </div>
        </nav>
    </div>
</header>

    <section class="hero">
        <div class="container">
            <div class="hero-content">
                <div class="title-with-images">
                    <h1>Recipes made easy with <span style="color: var(--primary)">RecipEazy</span></h1>
                    <div class="floating-images">
                        <img src="{% static 'images/pancakes.jpeg' %}" alt="Pancakes" class="float-img float-img-1">
                        <img src="{% static 'images/fries.jpeg' %}" alt="Fries" class="float-img float-img-2">
                        <img src="{% static 'images/sausages.jpeg' %}" alt="Sausages" class="float-img float-img-3">
                    </div>
                </div>
                <p>The best recipes in one place. </p>
                <a href="{%url 'recipe_list'%}" class="btn">Recipes</a>
            </div>
        </div>
    </section>
    <section class="featured">
        <div class="container">
            <div class="section-header">
                <h2>Recipes of the day</h2>
                <p>The most popular recipes of today.</p>
            </div>
            <div class="recipe-grid">
                {% for recipe in recipes %}
                <a href="{% url 'recipe-detail' id=recipe.id %}" style="text-decoration:none">
                    <div class="recipe-card">
                        <div class="recipe-img">
                            {% if recipe.image %}
                                <img src="{{ recipe.image.url }}" alt="{{ recipe.title }}" width="300">
                            {% endif %}
                            <div class="recipe-time">{{recipe.cook_time}} minute{{recipe.cook_time|pluralize}}</div>
                        </div>
                        <div class="recipe-content">
                            <div class="recipe-tags">
                                {%for cuisine in recipe.cuisine.all%}
                                    {%if cuisine.name != "none" %}
                                        <span class="recipe-tag">{{cuisine.name}}</span>
                                    {%endif%}
                                {%endfor%}
                            </div>
                            <h3 class="recipe-title">{{recipe.title}}</h3>
                            <p class="recipe-desc">{{recipe.description}}</p>
                            
                        </div>
                    </div>
                </a>
                {% endfor %}
		<br>
<br>
                <a style="max-height:50px"  href="{%url 'recipe_list'%}" class="btn">More recipes</a>
            </div>
        </div>
    </section>

    <section class="categories">
        <div class="container">
            <div class="section-header">
                <h2>Categories of food</h2>
            </div>
            <div class="category-container">
                <a href="{%url 'recipe-detail-category' category='Breakfast'%}">
                <div class="category-card">
                    <img src="{% static 'images/breakfast2.jpeg' %}" alt="Quick meals">
                    <div class="category-content">
                        <h3>Breakfast</h3>
                    </div>
                </div>
                </a>
                <a href="{%url 'recipe-detail-category' category='Lunch'%}">
                <div class="category-card">
                    <img src="{% static 'images/lunch2.jpeg' %}" alt="Mains">
                    <div class="category-content">
                        <h3>Lunch</h3>
                    </div>
                </div>
                </a>
                <a href="{%url 'recipe-detail-category' category='Dinner'%}">
                <div class="category-card">
                    <img src="{% static 'images/lunch.jpeg' %}" alt="Example Image">
                    <div class="category-content">
                        <h3>Dinner</h3>
                    </div>
                </div>
		<a href="{%url 'recipe-detail-category' category='Dessert'%}">
                <div class="category-card">
                    <img src="{% static 'images/dessert.jpeg' %}" alt="Example Image">
                    <div class="category-content">
                        <h3>Desserts</h3>
                    </div>
                </div>
                </a>
		<a href="{%url 'recipe-detail-category' category='Snack'%}">
                <div class="category-card">
                    <img src="{% static 'images/sausages.jpeg' %}" alt="Example Image">
                    <div class="category-content">
                        <h3>Snack</h3>
                    </div>
                </div>
                </a>
		<a href="{%url 'recipe-detail-category' category='Vegetarian'%}">
                <div class="category-card">
                    <img src="{% static 'images/dessert.jpeg' %}" alt="Example Image">
                    <div class="category-content">
                        <h3>Vegetarian</h3>
                    </div>
                </div>
                </a>
            </div>
        </div>
    </section>


    <script>
        const recipeCards = document.querySelectorAll('.recipe-card');
        const categoryCards = document.querySelectorAll('.category-card');
        const newsletterContent = document.querySelector('.newsletter-content');
        
        let lastScrollTop = 0;
        const header = document.getElementById('header');
        
        window.addEventListener('scroll', function() {
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            if (scrollTop > lastScrollTop && scrollTop > 200) {
                header.classList.add('hidden');
            } else {
                header.classList.remove('hidden');
            }
            lastScrollTop = scrollTop;
            
            recipeCards.forEach((card, index) => {
                const cardTop = card.getBoundingClientRect().top;
                const cardBottom = card.getBoundingClientRect().bottom;
                const windowHeight = window.innerHeight;
                
                if (cardTop < windowHeight * 0.9 && cardBottom > 0) {
                    setTimeout(() => {
                        card.style.animation = `fadeInUp 0.6s forwards`;
                    }, index * 100);
                }
            });
            
            categoryCards.forEach((card, index) => {
                const cardTop = card.getBoundingClientRect().top;
                const cardBottom = card.getBoundingClientRect().bottom;
                const windowHeight = window.innerHeight;
                
                if (cardTop < windowHeight * 0.9 && cardBottom > 0) {
                    setTimeout(() => {
                        card.style.animation = `fadeInUp 0.6s forwards`;
                    }, index * 100);
                }
            });
            
            const newsletterTop = newsletterContent.getBoundingClientRect().top;
            const windowHeight = window.innerHeight;
            
            if (newsletterTop < windowHeight * 0.9) {
                newsletterContent.style.animation = 'fadeInUp 0.8s forwards';
            }
        });
        
        window.dispatchEvent(new Event('scroll'));
	document.addEventListener('DOMContentLoaded', function() {
    // Get the menu toggle button and nav wrapper
    const menuToggle = document.querySelector('.menu-toggle');
    const navWrapper = document.querySelector('.nav-wrapper');
    
    if (!menuToggle || !navWrapper) {
        console.error('Menu toggle or nav wrapper elements not found!');
        return;
    }
    
    // Add click event to toggle menu
    menuToggle.addEventListener('click', function(event) {
        console.log('Menu toggle clicked');
        event.stopPropagation(); // Prevent event from bubbling up
        navWrapper.classList.toggle('active');
    });
    
    // Close menu when clicking outside
    document.addEventListener('click', function(event) {
        const isClickInside = menuToggle.contains(event.target) || navWrapper.contains(event.target);
        
        if (!isClickInside && navWrapper.classList.contains('active')) {
            navWrapper.classList.remove('active');
        }
    });
    
    // Handle window resize
    window.addEventListener('resize', function() {
        if (window.innerWidth > 992 && navWrapper.classList.contains('active')) {
            navWrapper.classList.remove('active');
        }
    });
});
    </script>
</body>
</html>
